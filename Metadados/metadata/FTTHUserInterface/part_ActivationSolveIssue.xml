<?xml version="1.0" encoding="UTF-8" ?>
<participant name="FTTHUserInterface.ActivationSolveIssue">
  <description><![CDATA[
    <p style="margin-top: 0">
      Esse participant representa a pessoa respons&#225;vel por realizar as
      atividades de tratamento de pend&#234;ncia manual para as opera&#231;&#245;es da Rede.
    </p>
  ]]></description>
  <distributionType>Shared</distributionType>
  <duration type="dur">
    <length>P0Y0M1DT0H0M0S</length>
  </duration>
  <guid>{44735ced-2771-4ab5-b267-38ee4eea9e12}</guid>
  <interface>iface_FTTHUserInterface.ActivationSolveIssueInterface</interface>
  <label>Activation Solve Issue</label>
  <metaVersion>3</metaVersion>
  <operationConditionsList>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureHSISolveIssueSuccess</operation>
      <tasksList>
        <tasks>DesconfigureHSISolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureHSISolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>DesconfigureHSISolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var atividade = Global.getConfigVariable("CONFIGURAR_HSI");
            var order = worklistOrder;
            var operation = worklistItem.workItemDocument.Operation;
            var userId = worklistItem.workItemDocument.userId;
            var idItem = worklistOrder.ProductData.identificadorHSI;

            var doc = FTTHCommon.ParticipantIssueConfirmation(atividade, order, operation, userId, idItem);
            return doc;
          ]]></script>
        </method>
        <method name="cwOnParticipantOpAct" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem =worklistOrder.order.OriginalData[0].ProductData.identificadorHSI;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESCONFIGURAR_HSI"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureVoIPSolveIssueSuccess</operation>
      <tasksList>
        <tasks>DesconfigureVoIPSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureVoIPSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ConfigureVoIPSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem = worklistOrder.order.OriginalData[0].ProductData.identificadorVoIP;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESCONFIGURAR_VOIP"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureIPTVSolveIssueSuccess</operation>
      <tasksList>
        <tasks>DesconfigureIPTVSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureIPTVSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>DesconfigureIPTVSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem = worklistOrder.order.OriginalData[0].ProductData.identificadorIPTV;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESCONFIGURAR_IPTV"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureOTTSolveIssueSuccess</operation>
      <tasksList>
        <tasks>DesconfigureOTTSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureOTTSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>DesconfigureOTTSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem = worklistOrder.order.OriginalData[0].ProductData.identificadorIPTV;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESCONFIGURAR_OTT"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_RestoreFacilitySolveIssueSuccess</operation>
      <tasksList>
        <tasks>RestoreFacilitySolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_RestoreFacilitySolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>RestoreFacilitySolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR PEND
            var idItem = (worklistOrder.ProductData) ? worklistOrder.ProductData.idPromocao : worklistOrder.OriginalData[0].ProductData.idPromocao;
            var idItens = true;

            var doc = FTTHCommon.ParticipantIssueConfirmation("Abrir Pendência", worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId,idItem,idItens);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_SuspendFacilitySolveIssueSuccess</operation>
      <tasksList>
        <tasks>SuspendFacilitySolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_SuspendFacilitySolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>RestoreFacilitySolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR PEND
            var idItem = (worklistOrder.ProductData) ? worklistOrder.ProductData.idPromocao : worklistOrder.OriginalData[0].ProductData.idPromocao;
            var idItens = true;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("BLOQUEAR_FACILIDADE"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId,idItem,idItens);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureHSISolveIssueSuccess</operation>
      <tasksList>
        <tasks>ConfigureHSISolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureHSISolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ConfigureHSISolveIssue</tasks>
      </tasksList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureVoIPSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ConfigureVoIPSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureVoIPSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ConfigureVoIPSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem = worklistOrder.ProductData.identificadorVoIP;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("CONFIGURAR_VOIP"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureIPTVSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ConfigureIPTVSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureIPTVSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ConfigureIPTVSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem = worklistOrder.ProductData.identificadorIPTV;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("CONFIGURAR_IPTV"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureOTTSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ConfigureOTTSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureOTTSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ConfigureOTTSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem = worklistOrder.ProductData.identificadorIPTV;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("CONFIGURAR_OTT"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DissociateSTBSolveIssueSuccess</operation>
      <tasksList>
        <tasks>DissociateSTBSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DissociateSTBSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>DissociateSTBSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DISSOCIAR_STB"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ReconfigureHSISolveIssueSuccess</operation>
      <tasksList>
        <tasks>ReconfigureHSISolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ReconfigureHSISolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ReconfigureHSISolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.ProductData.identificadorHSI;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("RECONFIGURAR_HSI"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ReconfigureVoIPSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ReconfigureVoIPSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ReconfigureVoIPSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ReconfigureVoIPSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.ProductData.identificadorVoIP;
            var doc = FTTHCommon.ParticipantIssueConfirmation("Abrir Pendência", worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ReconfigureIPTVSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ReconfigureIPTVSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ReconfigureIPTVSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ReconfigureIPTVSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.ProductData.identificadorIPTV;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("RECONFIGURAR_IPTV"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ReconfigureOTTSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ReconfigureOTTSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ReconfigureOTTSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ReconfigureOTTSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.ProductData.identificadorIPTV;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("RECONFIGURAR_OTT"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_SuspendHSISolveIssueSuccess</operation>
      <tasksList>
        <tasks>SuspendHSISolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_SuspendHSISolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>SuspendHSISolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.ProductData.identificadorHSI;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("BLOQUEAR_HSI"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_SuspendVoIPSolveIssueSuccess</operation>
      <tasksList>
        <tasks>SuspendVoIPSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_SuspendVoIPSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>SuspendVoIPSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.ProductData.identificadorVoIP;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("BLOQUEAR_VOIP"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_SuspendIPTVSolveIssueSuccess</operation>
      <tasksList>
        <tasks>SuspendIPTVSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_SuspendIPTVSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>SuspendIPTVSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.ProductData.identificadorIPTV;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("BLOQUEAR_IPTV"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_SuspendOTTSolveIssueSuccess</operation>
      <tasksList>
        <tasks>SuspendOTTSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_SuspendOTTSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>SuspendOTTSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.ProductData.identificadorIPTV;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("BLOQUEAR_OTT"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_RestoreHSISolveIssueSuccess</operation>
      <tasksList>
        <tasks>RestoreHSISolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_RestoreHSISolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>RestoreHSISolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.ProductData.identificadorHSI;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESBLOQUEAR_HSI"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_RestoreVoIPSolveIssueSuccess</operation>
      <tasksList>
        <tasks>RestoreVoIPSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_RestoreVoIPSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>RestoreVoIPSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.ProductData.identificadorVoIP;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESBLOQUEAR_VOIP"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_RestoreIPTVSolveIssueSuccess</operation>
      <tasksList>
        <tasks>RestoreIPTVSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_RestoreIPTVSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>RestoreIPTVSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.ProductData.identificadorIPTV;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESBLOQUEAR_IPTV"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_RestoreOTTSolveIssueSuccess</operation>
      <tasksList>
        <tasks>RestoreOTTSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_RestoreOTTSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>RestoreOTTSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.ProductData.identificadorIPTV;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESBLOQUEAR_OTT"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureInfraSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ConfigureInfraSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureInfraSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ConfigureInfraSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR PEND
            var idItem = (worklistOrder.ProductData) ? worklistOrder.ProductData.idPromocao : worklistOrder.OriginalData[0].ProductData.idPromocao;
            var idItens = true;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("CONFIGURAR_INFRA"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId,idItem,idItens);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureInfraSolveIssueSuccess</operation>
      <tasksList>
        <tasks>DesconfigureInfraSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureInfraSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>DesconfigureInfraSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR PEND
            var idItem = (worklistOrder.ProductData) ? worklistOrder.ProductData.idPromocao : worklistOrder.OriginalData[0].ProductData.idPromocao;
            var idItens = true;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESCONFIGURAR_INFRA"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId,idItem,idItens);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ReconfigureInfraSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ReconfigureInfraSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ReconfigureInfraSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ReconfigureInfraSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR PEND
            var idItem = (worklistOrder.ProductData) ? worklistOrder.ProductData.idPromocao : worklistOrder.OriginalData[0].ProductData.idPromocao;
            var idItens = true;

            var doc = FTTHCommon.ParticipantIssueConfirmation("Abrir Pendência", worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem,idItens);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureInfraHDMSolveIssueSuccess</operation>
      <tasksList>
        <tasks>DesconfigureInfraHDMSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureInfraHDMSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>DesconfigureInfraHDMSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR PEND
            var idItem = (worklistOrder.ProductData) ? worklistOrder.ProductData.idPromocao : worklistOrder.OriginalData[0].ProductData.idPromocao;
            var idItens = true;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESCONFIGURAR_INFRA_HDM"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId,idItem,idItens);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureInfraNASSSolveIssueSuccess</operation>
      <tasksList>
        <tasks>DesconfigureInfraNASSSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureInfraNASSSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>DesconfigureInfraNASSSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR PEND
            var idItem = (worklistOrder.ProductData) ? worklistOrder.ProductData.idPromocao : worklistOrder.OriginalData[0].ProductData.idPromocao;
            var idItens = true;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESCONFIGURAR_INFRA_NASS"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId,idItem,idItens);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureInfraAPCSolveIssueSuccess</operation>
      <tasksList>
        <tasks>DesconfigureInfraAPCSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureInfraAPCSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>DesconfigureInfraAPCSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR PEND
            var idItem = (worklistOrder.ProductData) ? worklistOrder.ProductData.idPromocao : worklistOrder.OriginalData[0].ProductData.idPromocao;
            var idItens = true;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESCONFIGURAR_INFRA_APC"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId,idItem,idItens);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureInfraHDMSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ConfigureInfraHDMSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureInfraHDMSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ConfigureInfraHDMSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var idItem = (worklistOrder.ProductData) ? worklistOrder.ProductData.idPromocao : worklistOrder.OriginalData[0].ProductData.idPromocao;
            var idItens = true;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("CONFIGURAR_INFRA_HDM"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId,idItem,idItens);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureInfraAPCSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ConfigureInfraAPCSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureInfraAPCSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ConfigureInfraAPCSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var idItem = (worklistOrder.ProductData) ? worklistOrder.ProductData.idPromocao : worklistOrder.OriginalData[0].ProductData.idPromocao;
            var idItens = true;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("CONFIGURAR_INFRA_APC"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId,idItem,idItens);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureInfraNASSSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ConfigureInfraNASSSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureInfraNASSSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ConfigureInfraNASSSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var idItem = (worklistOrder.ProductData) ? worklistOrder.ProductData.idPromocao : worklistOrder.OriginalData[0].ProductData.idPromocao;
            var idItens = true;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("CONFIGURAR_INFRA_NASS"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId,idItem,idItens);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_SuspendHSIAPCSolveIssueSuccess</operation>
      <tasksList>
        <tasks>SuspendHSIAPCSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_SuspendHSIAPCSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>SuspendHSIAPCSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.OriginalData[0].ProductData.identificadorHSI;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("BLOQUEAR_HSI_APC"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_SuspendVoIPIMSSolveIssueSuccess</operation>
      <tasksList>
        <tasks>SuspendVoIPIMSSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_SuspendVoIPIMSSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>SuspendVoIPIMSSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.OriginalData[0].ProductData.identificadorVoIP;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("BLOQUEAR_VOIP_IMS"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_SuspendIPTViESFSolveIssueSuccess</operation>
      <tasksList>
        <tasks>SuspendIPTVIESFSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_SuspendIPTVIESFSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>SuspendIPTVIESFSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.OriginalData[0].ProductData.identificadorIPTV;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("BLOQUEAR_IPTV_IESF"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_SuspendIPTVAPCSolveIssueSuccess</operation>
      <tasksList>
        <tasks>SuspendIPTVAPCSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_SuspendIPTVAPCSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>SuspendIPTVAPCSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.OriginalData[0].ProductData.identificadorIPTV;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("BLOQUEAR_IPTV_APC"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_SuspendOTTIESFSolveIssueSuccess</operation>
      <tasksList>
        <tasks>SuspendOTTIESFSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_SuspendOTTIESFSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>SuspendOTTIESFSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.OriginalData[0].ProductData.identificadorIPTV;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("BLOQUEAR_OTT_IESF"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureHSIAPCSolveIssueSuccess</operation>
      <tasksList>
        <tasks>DesconfigureHSIAPCSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureHSIAPCSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>DesconfigureHSIAPCSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem =worklistOrder.order.OriginalData[0].ProductData.identificadorHSI;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESCONFIGURAR_HSI_APC"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureHSINASSSolveIssueSuccess</operation>
      <tasksList>
        <tasks>DesconfigureHSINASSSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureHSINASSSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>DesconfigureHSINASSSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem =worklistOrder.order.OriginalData[0].ProductData.identificadorHSI;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESCONFIGURAR_HSI_NASS"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureHSIHDMSolveIssueSuccess</operation>
      <tasksList>
        <tasks>DesconfigureHSIHDMSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureHSIHDMSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>DesconfigureHSIHDMSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem =worklistOrder.order.OriginalData[0].ProductData.identificadorHSI;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESCONFIGURAR_HSI_HDM"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureVoIPHDMSolveIssueSuccess</operation>
      <tasksList>
        <tasks>DesconfigureVoIPHDMSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureVoIPHDMSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>DesconfigureVoIPHDMSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem = worklistOrder.order.OriginalData[0].ProductData.identificadorVoIP;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESCONFIGURAR_VOIP_HDM"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureVoIPVMPSolveIssueSuccess</operation>
      <tasksList>
        <tasks>DesconfigureVoIPVMPSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureVoIPVMPSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>DesconfigureVoIPVMPSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem = worklistOrder.order.OriginalData[0].ProductData.identificadorVoIP;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESCONFIGURAR_VOIP_VMP"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureVoIPIMSSolveIssueSuccess</operation>
      <tasksList>
        <tasks>DesconfigureVoIPIMSSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureVoIPIMSSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>DesconfigureVoIPIMSSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem = worklistOrder.order.OriginalData[0].ProductData.identificadorVoIP;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESCONFIGURAR_VOIP_IMS"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureVoIPAPCSolveIssueSuccess</operation>
      <tasksList>
        <tasks>DesconfigureVoIPAPCSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureVoIPAPCSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>DesconfigureVoIPAPCSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem = worklistOrder.order.OriginalData[0].ProductData.identificadorVoIP;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESCONFIGURAR_VOIP_APC"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureIPTVAPCSolveIssueSuccess</operation>
      <tasksList>
        <tasks>DesconfigureIPTVAPCSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureIPTVAPCSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>DesconfigureIPTVAPCSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem = worklistOrder.order.OriginalData[0].ProductData.identificadorIPTV;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESCONFIGURAR_IPTV_APC"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureIPTVHDMSolveIssueSuccess</operation>
      <tasksList>
        <tasks>DesconfigureIPTVHDMSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureIPTVHDMSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>DesconfigureIPTVHDMSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem = worklistOrder.order.OriginalData[0].ProductData.identificadorIPTV;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESCONFIGURAR_IPTV_HDM"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureIPTVNASSSolveIssueSuccess</operation>
      <tasksList>
        <tasks>DesconfigureIPTVNASSSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureIPTVNASSSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>DesconfigureIPTVNASSSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem = worklistOrder.order.OriginalData[0].ProductData.identificadorIPTV;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESCONFIGURAR_IPTV_NASS"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureIPTVIESFSolveIssueSuccess</operation>
      <tasksList>
        <tasks>DesconfigureIPTVIESFSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureIPTVIESFSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>DesconfigureIPTVIESFSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem = worklistOrder.order.OriginalData[0].ProductData.identificadorIPTV;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESCONFIGURAR_IPTV_IESF"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureOTTIESFSolveIssueSuccess</operation>
      <tasksList>
        <tasks>DesconfigureOTTIESFSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DesconfigureOTTIESFSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>DesconfigureOTTIESFSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem = worklistOrder.order.OriginalData[0].ProductData.identificadorIPTV;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESCONFIGURAR_OTT_IESF"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureHSIAPCSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ConfigureHSIAPCSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureHSIAPCSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ConfigureHSIAPCSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var atividade = Global.getConfigVariable("CONFIGURAR_HSI_APC");
            var order = worklistOrder;
            var operation = worklistItem.workItemDocument.Operation;
            var userId = worklistItem.workItemDocument.userId;
            var idItem = worklistOrder.ProductData.identificadorHSI;

            var doc = FTTHCommon.ParticipantIssueConfirmation(atividade, order, operation, userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureHSINASSSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ConfigureHSINASSSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureHSINASSSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ConfigureHSINASSSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var atividade = Global.getConfigVariable("CONFIGURAR_HSI_NASS");
            var order = worklistOrder;
            var operation = worklistItem.workItemDocument.Operation;
            var userId = worklistItem.workItemDocument.userId;
            var idItem = worklistOrder.ProductData.identificadorHSI;

            var doc = FTTHCommon.ParticipantIssueConfirmation(atividade, order, operation, userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureHSIHDMSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ConfigureHSIHDMSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureHSIHDMSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ConfigureHSIHDMSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var atividade = Global.getConfigVariable("CONFIGURAR_HSI_HDM");
            var order = worklistOrder;
            var operation = worklistItem.workItemDocument.Operation;
            var userId = worklistItem.workItemDocument.userId;
            var idItem = worklistOrder.ProductData.identificadorHSI;

            var doc = FTTHCommon.ParticipantIssueConfirmation(atividade, order, operation, userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureVoIPHDMSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ConfigureVoIPHDMSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureVoIPHDMSolveIssueChnageIssue</operation>
      <tasksList>
        <tasks>ConfigureVoIPHDMSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem = worklistOrder.ProductData.identificadorVoIP;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("CONFIGURAR_VOIP_HDM"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureVoIPAPCSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ConfigureVoIPAPCSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureVoIPAPCSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ConfigureVoIPAPCSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem = worklistOrder.ProductData.identificadorVoIP;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("CONFIGURAR_VOIP_APC"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureVoIPVMPSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ConfigureVoIPVMPSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureVoIPVMPSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ConfigureVoIPVMPSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem = worklistOrder.ProductData.identificadorVoIP;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("CONFIGURAR_VOIP_VMP"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureVoIPIMSSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ConfigureVoIPIMSSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureVoIPIMSSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ConfigureVoIPIMSSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem = worklistOrder.ProductData.identificadorVoIP;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("CONFIGURAR_VOIP_IMS"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureIPTVAPCSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ConfigureIPTVAPCSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureIPTVAPCSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ConfigureIPTVAPCSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem = worklistOrder.ProductData.identificadorIPTV;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("CONFIGURAR_IPTV_APC"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureIPTVNASSSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ConfigureIPTVNASSSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureIPTVNASSSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ConfigureIPTVNASSSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem = worklistOrder.ProductData.identificadorIPTV;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("CONFIGURAR_IPTV_NASS"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureIPTVIESFSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ConfigureIPTVIESFSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureIPTVIESFSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ConfigureIPTVIESFSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem = worklistOrder.ProductData.identificadorIPTV;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("CONFIGURAR_IPTV_IESF"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureIPTVHDMSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ConfigureIPTVHDMSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureIPTVHDMSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ConfigureIPTVHDMSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var idItem = worklistOrder.ProductData.identificadorIPTV;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("CONFIGURAR_IPTV_HDM"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureOTTIESFSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ConfigureOTTIESFSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureOTTIESFSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ConfigureOTTIESFSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem = worklistOrder.ProductData.identificadorIPTV;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("CONFIGURAR_OTT_IESF"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ReconfigureHSIAPCSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ReconfigureHSIAPCSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ReconfigureHSIAPCSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ReconfigureHSIAPCSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.ProductData.identificadorHSI;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("RECONFIGURAR_HSI_APC"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ReconfigureHSINASSSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ReconfigureHSINASSSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ReconfigureHSINASSSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ReconfigureHSINASSSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.ProductData.identificadorHSI;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("RECONFIGURAR_HSI_NASS"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ReconfigureVoIPHDMSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ReconfigureVoIPHDMSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ReconfigureVoIPHDMSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>DesconfigureVoIPHDMSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.ProductData.identificadorVoIP;
            var doc = FTTHCommon.ParticipantIssueConfirmation("Abrir Pendência", worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ReconfigureVoIPVMPSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ReconfigureVoIPVMPSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ReconfigureVoIPVMPSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ReconfigureVoIPVMPSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.ProductData.identificadorVoIP;
            var doc = FTTHCommon.ParticipantIssueConfirmation("Abrir Pendência", worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ReconfigureVoIPIMSSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ReconfigureVoIPIMSSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ReconfigureVoIPIMSSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ReconfigureVoIPIMSSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.ProductData.identificadorVoIP;
            var doc = FTTHCommon.ParticipantIssueConfirmation("Abrir Pendência", worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ReconfigureIPTVIESFSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ReconfigureIPTVIESFSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ReconfigureIPTVIESFSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ReconfigureIPTVIESFSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.ProductData.identificadorIPTV;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("RECONFIGURAR_IPTV_IESF"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_SuspendVoIPIMSServiceSolveIssueSuccess</operation>
      <tasksList>
        <tasks>SuspendVoIPIMSServiceSolveIssue</tasks>
      </tasksList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_SuspendVoIPIMSServiceSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>SuspendVoIPIMSServiceSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.OriginalData[0].ProductData.identificadorVoIP;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("BLOQUEAR_VOIP_IMS_SERVICO"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_InsertFranchiseSolveIssueSuccess</operation>
      <tasksList>
        <tasks>InsertFranchiseSolveIssue</tasks>
      </tasksList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_InsertFranchiseSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>InsertFranchiseSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.ProductData.identificadorVoIP;
            var doc = FTTHCommon.ParticipantIssueConfirmation("INSERIR_FRANQUIA_IN", worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DeleteFranchiseSolveIssueSuccess</operation>
      <tasksList>
        <tasks>DeleteFranchiseSolveIssue</tasks>
      </tasksList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DeleteFranchiseSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>DeleteFranchiseSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.OriginalData[0].ProductData.identificadorVoIP;
            var doc = FTTHCommon.ParticipantIssueConfirmation("REMOVER_FRANQUIA_IN", worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_SuspendVoIPVMPServiceSolveIssueSuccess</operation>
      <tasksList>
        <tasks>SuspendVoIPVMPServiceSolveIssue</tasks>
      </tasksList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_SuspendVoIPVMPServiceSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>SuspendVoIPVMPServiceSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.OriginalData[0].ProductData.identificadorVoIP;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("BLOQUEAR_VOIP_VMP_SERVICO"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_UpdateFranchiseSolveIssueSuccess</operation>
      <tasksList>
        <tasks>UpdateFranchiseSolveIssue</tasks>
      </tasksList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_UpdateFranchiseSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>UpdateFranchiseSolveIssue</tasks>
      </tasksList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureDigitalServiceSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ConfigureDigitalServiceSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureDigitalServiceSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ConfigureDigitalServiceSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.OriginalData[0].ProductData.identificadorVoIP;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("CONFIGURAR_SERVICO_DIGITAL"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_SuspendVagoVMPSolveIssueSuccess</operation>
      <tasksList>
        <tasks>SuspendVagoVMPSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                    for(i = countManageIssue - 1; i >= 0; i--){
                       if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                           worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                           worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                           worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                           worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                           worklistOrder.save();
                       }
                   }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_SuspendVagoVMPSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>SuspendVagoVMPSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.OriginalData[0].ProductData.identificadorVoIP;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("BLOQUEIO_VAGO_VMP"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_RestoreVagoVMPSolveIssueSuccess</operation>
      <tasksList>
        <tasks>RestoreVagoVMPSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                   if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                       worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                       worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                       worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                       worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                       worklistOrder.save();
                   }
               }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_RestoreVagoVMPSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>RestoreVagoVMPSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.OriginalData[0].ProductData.identificadorVoIP;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESBLOQUEIO_VAGO_VMP"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureIPTVIESFProfileSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ConfigureIPTVIESFProfileSolveIssue</tasks>
      </tasksList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ConfigureIPTVIESFProfileSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ConfigureIPTVIESFProfileSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var idItem = worklistOrder.ProductData.identificadorIPTV;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("CONFIGURAR_PERFIL_CLIENTE_IPTV_IESF"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_RestoreHSIAPCSolveIssueSuccess</operation>
      <tasksList>
        <tasks>RestoreHSIAPCSolveIssue</tasks>
      </tasksList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_RestoreHSIAPCSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>RestoreHSIAPCSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.OriginalData[0].ProductData.identificadorHSI;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESBLOQUEAR_HSI_APC"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_RestoreVoIPIMSSolveIssueSuccess</operation>
      <tasksList>
        <tasks>RestoreVoIPIMSSolveIssue</tasks>
      </tasksList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_RestoreVoIPIMSSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>RestoreVoIPSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.OriginalData[0].ProductData.identificadorVoIP;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESBLOQUEAR_VOIP_IMS"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_RestoreIPTVIESFSolveIssueSuccess</operation>
      <tasksList>
        <tasks>RestoreIPTVIESFSolveIssue</tasks>
      </tasksList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_RestoreIPTVIESFSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>RestoreIPTVIESFSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var idItem = worklistOrder.OriginalData[0].ProductData.identificadorIPTV;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESBLOQUEAR_IPTV_IESF"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_RestoreIPTVAPCSolveIssueSuccess</operation>
      <tasksList>
        <tasks>RestoreIPTVAPCSolveIssue</tasks>
      </tasksList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_RestoreIPTVAPCSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>RestoreIPTVAPCSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var idItem = worklistOrder.OriginalData[0].ProductData.identificadorIPTV;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESBLOQUEAR_IPTV_APC"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_RestoreOTTIESFSolveIssueSuccess</operation>
      <tasksList>
        <tasks>RestoreOTTIESFSolveIssue</tasks>
      </tasksList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_RestoreOTTIESFSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>RestoreOTTIESFSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var idItem = worklistOrder.OriginalData[0].ProductData.identificadorIPTV;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("DESBLOQUEAR_OTT_IESF"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_InsertAdditionalPackageSolveIssueSuccess</operation>
      <tasksList>
        <tasks>InsertAdditionalPackageSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);
            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                    if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                        worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                        worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                        worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                        worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                        worklistOrder.save();
                    }
                }
            }
            /**** CR 2 ****/
            var idItem = worklistOrder.ProductData.identificadorIPTV;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("INSERIR_PACOTE_ADICIONAL"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_InsertAdditionalPackageSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>InsertAdditionalPackageSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.ProductData.identificadorIPTV;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("INSERIR_PACOTE_ADICIONAL"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DeleteAdditionalPackageSolveIssueSuccess</operation>
      <tasksList>
        <tasks>DeleteAdditionalPackageSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /*
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);
            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                    if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                        worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                        worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                        worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                        worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                        worklistOrder.save();
                    }
                }
            }
            /**** CR 2 ****/
            /*
            var idItem = worklistOrder.ProductData.identificadorIPTV;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("REMOVER_PACOTE_ADICIONAL"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
            */
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_DeleteAdditionalPackageSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>DeleteAdditionalPackageSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            /**** CR 2 ****/
            var idItem = worklistOrder.ProductData.identificadorIPTV;
            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("REMOVER_PACOTE_ADICIONAL"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ModificarPlanoVoIPIMSSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ModificarPlanoVoIPIMSSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            var userId = Global.getUserId();
            var userDoc = UserProfile.getUserProfile(userId);
            var matriculaUsuario = Global.trim(userDoc.profileId);
            var nomeUsuario = Global.trim(userDoc.userName);
            var msg = FTTHCommon.mandatoryFieldsManualActivities("Fechar Pendência", worklistOrder, worklistItem.workItemDocument.Operation);

            if(msg != null){
                var doc = new Document ("FTTHCommon.MandatoryMessage");
                doc.fields = msg;
                return doc;
            }
            else{
                var countManageIssue = worklistOrder.IssueData.length;
                var i;
                for(i = countManageIssue - 1; i >= 0; i--){
                    if((worklistOrder.IssueData[i].IssueData.operationWorklist == worklistItem.workItemDocument.Operation) && (worklistOrder.IssueData[i].IssueData.flagIssueStatus == 0)){
                        worklistOrder.IssueData[i].IssueData.flagIssueStatus = 1;
                        worklistOrder.IssueData[i].IssueData.dataFechamento = new Date();
                        worklistOrder.IssueData[i].IssueData.matriculaUsuarioFechamento = matriculaUsuario;
                        worklistOrder.IssueData[i].IssueData.nomeUsuarioFechamento = nomeUsuario;
                        worklistOrder.save();
                    }
                }
            }
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ModificarPlanoVoIPIMSSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ModificarPlanoVoIPIMSSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem = worklistOrder.ProductData.identificadorVoIP;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("MODIFICAR_PLANO_VOIP_IMS"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ModificarPlanoVoIPVMPSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ModificarPlanoVoIPVMPSolveIssue</tasks>
      </tasksList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ModificarPlanoVoIPVMPSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ModificarPlanoVoIPVMPSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem = worklistOrder.ProductData.identificadorVoIP;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("MODIFICAR_PLANO_VOIP_VMP"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ReconfigurarVoIPINSolveIssueChangeIssue</operation>
      <tasksList>
        <tasks>ReconfigurarVoIPINSolveIssue</tasks>
      </tasksList>
      <methodList>
        <method name="cwOnPartOpConf" type="action">
          <system>true</system>
          <script><![CDATA[
            //CR2
            var idItem = worklistOrder.ProductData.identificadorVoIP;

            var doc = FTTHCommon.ParticipantIssueConfirmation(Global.getConfigVariable("RECONFIGURAR_VOIP_IN"), worklistOrder, worklistItem.workItemDocument.Operation, worklistItem.workItemDocument.userId, idItem);
            return doc;
          ]]></script>
        </method>
      </methodList>
    </operationConditions>
    <operationConditions type="opco">
      <operation>iface_FTTHUserInterface.ActivationSolveIssueInterface/oper_ReconfigurarVoIPINSolveIssueSuccess</operation>
      <tasksList>
        <tasks>ReconfigurarVoIPINSolveIssue</tasks>
      </tasksList>
    </operationConditions>
  </operationConditionsList>
  <privilege>closeIssue</privilege>
  <UserInterface name="UserInterface" type="ui">
    <extends>ui_com.conceptwave.system.WLTaskUserInterface</extends>
    <vformList>
      <vform name="Forms" type="frmui">
        <extends>ui_com.conceptwave.system.WLTaskUserInterface/frmui_Forms</extends>
      </vform>
    </vformList>
  </UserInterface>
</participant>